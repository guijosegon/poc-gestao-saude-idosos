@model GestaoSaudeIdosos.Web.ViewModels.UsuarioDetalheViewModel
@{
    ViewData["Title"] = "Detalhes do usuário";
}

<section class="page-header">
    <div class="page-header__profile">
        <img src="@(string.IsNullOrWhiteSpace(Model.ImagemPerfil) ? Url.Content("~/images/avatar-generico.svg") : Model.ImagemPerfil)"
             alt="Foto de @Model.NomeCompleto"
             class="avatar avatar-lg" />
        <div>
            <h1>@Model.NomeCompleto</h1>
            <p class="page-subtitle">Código: @Model.UsuarioId • @Model.Email • Perfil @Model.Perfil</p>
        </div>
    </div>
    <div class="page-actions">
        <a asp-action="Edit" asp-route-id="@Model.UsuarioId" class="btn-primary"
           data-open-tab data-tab="Usuários"
           data-url='@Url.Action("Edit", "Usuarios", new { id = Model.UsuarioId })'>Editar</a>
        <a asp-action="Index" class="btn-secondary"
           data-open-tab data-close-current-tab data-tab="Usuários" data-url='@Url.Action("Index", "Usuarios")'>Voltar</a>
    </div>
</section>

<div class="detail-grid">
    <article class="detail-card">
        <h2>Informações de acesso</h2>
        <dl>
            <div>
                <dt>CPF/RG</dt>
                <dd>@(string.IsNullOrWhiteSpace(Model.CpfRg) ? "—" : Model.CpfRg)</dd>
            </div>
            <div>
                <dt>Status</dt>
                <dd>
                    <span class="status-badge @(Model.Ativo ? "success" : "danger")">
                        @(Model.Ativo ? "Ativo" : "Inativo")
                    </span>
                </dd>
            </div>
            <div>
                <dt>Data de cadastro</dt>
                <dd>@Model.CriadoEm.ToString("dd/MM/yyyy")</dd>
            </div>
            <div>
                <dt>Último acesso</dt>
                <dd>@(Model.UltimoAcesso.HasValue ? Model.UltimoAcesso.Value.ToString("dd/MM/yyyy") : "—")</dd>
            </div>
        </dl>
    </article>

    <article class="detail-card">
        <h2>Ações recentes</h2>
        @if (!Model.AcoesRecentes.Any())
        {
            <p class="empty-state">Sem atividades registradas na simulação.</p>
        }
        else
        {
            <ul class="list">
            @foreach (var acao in Model.AcoesRecentes)
            {
                <li>@acao</li>
            }
            </ul>
        }
    </article>
</div>
